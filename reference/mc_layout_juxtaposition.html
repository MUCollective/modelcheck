<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Define comparative layout in model check visualization — mc_layout_juxtaposition • modelcheck</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Define comparative layout in model check visualization — mc_layout_juxtaposition"><meta property="og:description" content="Which comparative layout to use? If using mc_layout_juxtaposition(), mcplot()
will use juxtaposition layout to puts data observations and model predictions side by side in two seperated plots;
if using mc_layout_superposition(), mcplot() overlays data observations and model predictions in one plot;
if using mc_layout_encoding, mcplot() will show comparison by explicit-encoding;
if using mc_layout_nested, mcplot() will show comparison side by side in one plot."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">modelcheck</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/modelcheck.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/comparative-layout.html">Comparing model predictions and observed data using modelcheck</a>
    </li>
    <li>
      <a href="../articles/distribution.html">Extracting arbitrary distributions from a model using modelcheck</a>
    </li>
    <li>
      <a href="../articles/uncertainty-representation.html">Specifying visual representations for model predictions and observed data using modelcheck</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Define comparative layout in model check visualization</h1>
    
    <div class="hidden name"><code>mc_layout_juxtaposition.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Which comparative layout to use? If using <code>mc_layout_juxtaposition()</code>, <code><a href="mcplot.html">mcplot()</a></code>
will use juxtaposition layout to puts data observations and model predictions side by side in two seperated plots;
if using <code>mc_layout_superposition()</code>, <code><a href="mcplot.html">mcplot()</a></code> overlays data observations and model predictions in one plot;
if using <code>mc_layout_encoding</code>, <code><a href="mcplot.html">mcplot()</a></code> will show comparison by explicit-encoding;
if using <code>mc_layout_nested</code>, <code><a href="mcplot.html">mcplot()</a></code> will show comparison side by side in one plot.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mc_layout_juxtaposition</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mc_layout_superposition</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mc_layout_nested</span><span class="op">(</span>justification <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mc_layout_encoding</span><span class="op">(</span><span class="va">transform</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>...</dt>
<dd><p>Other arguments passed on to <a href="https://wilkelab.org/cowplot/articles/plot_grid.html" class="external-link"><code><a href="https://wilkelab.org/cowplot/reference/plot_grid.html" class="external-link">cowplot::plot_grid()</a></code></a>,
when using juxtaposition.</p></dd>


<dt>justification</dt>
<dd><p>A number ro set the deviate from center when using nested juxtaposition.
If <code>justification</code> is a positive number, model predictions will be on the right
and data observations will be on the left; if <code>justification</code> is a negative
number, the positions are reversed.</p></dd>


<dt>transform</dt>
<dd><p>What operation needs for explicit-encoding? If <code>transform</code> is:</p><ul><li><p><code>"residual"</code>, then <code><a href="mcplot.html">mcplot()</a></code> will show the comparison between data observations and
model predictions by a residual plot.</p></li>
<li><p><code>"qq"</code>, then <code><a href="mcplot.html">mcplot()</a></code> will show the comparison by a Q-Q plot.</p></li>
<li><p><code>"worm"</code>, then <code><a href="mcplot.html">mcplot()</a></code> will show the comparison by a detrended Q-Q plot (worm plot).</p></li>
<li><p>A function, then <code><a href="mcplot.html">mcplot()</a></code> will transform the data by that function.
The input of the function is a data frame generated from the <code>newdata</code> data frame
passed to <code><a href="mc_distribution.html">mc_distribution()</a></code>, which includes a .row column (a factor
grouping rows from the input newdata), .chain column (the chain each draw
came from, or NA if the model does not provide chain information),
.iteration column (the iteration the draw came from, or NA if the model
does not provide iteration information), and a .draw column (a unique
index corresponding to each draw from the distribution). The output of
the function should includes a column named <code>y_axis</code> that specifies the data
shown on y axis at least and an optional column named <code>x_axis</code> that specifies
the data shown on x axis. If the output includes <code>x_axis</code>, <code><a href="mcplot.html">mcplot()</a></code> will
ignore the conditional variable <code>x</code> defined in <code><a href="mc_condition_on.html">mc_condition_on()</a></code>.
See examples for more details.</p></li>
</ul></dd>

</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcplot.html">mcplot</a></span><span class="op">(</span><span class="va">mpg_model</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">mc_layout_juxtaposition</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mc_layout_juxtaposition-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcplot.html">mcplot</a></span><span class="op">(</span><span class="va">mpg_model</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">mc_layout_superposition</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mc_layout_juxtaposition-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcplot.html">mcplot</a></span><span class="op">(</span><span class="va">mpg_model</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">mc_layout_nested</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="mc_condition_on.html">mc_condition_on</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">vs</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mc_layout_juxtaposition-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcplot.html">mcplot</a></span><span class="op">(</span><span class="va">mpg_model</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">mc_layout_encoding</span><span class="op">(</span><span class="st">"qq"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mc_layout_juxtaposition-4.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Defining a explicit encoding by a customized transform function to check</span></span></span>
<span class="r-in"><span><span class="co"># stdandard residuals of model and data.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">std_res_func</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>y_axis <span class="op">=</span> <span class="va">prediction</span> <span class="op">-</span> <span class="va">observation</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>y_axis <span class="op">=</span> <span class="va">y_axis</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">y_axis</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mcplot.html">mcplot</a></span><span class="op">(</span><span class="va">mpg_model</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu">mc_layout_encoding</span><span class="op">(</span><span class="va">std_res_func</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="mc_condition_on.html">mc_condition_on</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">disp</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="mc_gglayer.html">mc_gglayer</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_hline</a></span><span class="op">(</span>yintercept <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="mc_layout_juxtaposition-5.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Ziyang Guo, Jessica Hullman, Matthew Kay, Alex Kale.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

